# [10] 명세 기반 테스트 (=블랙박스 테스트)

프로그램의 **내부 논리 구조 참조하지 않고** 요구사항이 기술된 명세나 설계 정보 이용하여 테스트 케이스 개발

장점 : ✏️*규모가 큰 단위에도*, 지식이 없어도, 명세 결함이 잘 드러남, ✏️ *누락 결함* 검출 쉬움

### 동등 분할 (Equivalence Partitioning)

각 클래스에서 하나의 값 선택하여 테스트 케이스로 씀. 나머지 값들도 올바르게 동작할 거라는 가정 있음 (합집합은 영역 그 자체, 교집합은 없어야 함)

유효하지 않은 입출력까지도 고려해야함 ! ✏️*명세에 명시적으로 적혀있기만해도 유효함*

- **One-to-one 동등 분할** : 분할한 클래스와 테스트 케이스 간 일대일 관계. **유효하지않는 테케 설계할떄는 한번에 하나의 필드만 유효하지 않은 입력으로 구성해야 함**
- **최소화 동등 분할** : 여러 개의 클래스가 포함되도록

따라서 유효하지못한건 One-to-one 방식으로 설계, 유효한 테스트 케이스는 최소화 동등 분할 방식으로 설계해야 함.

*✏️* 오답노트

***1:1 동등 분할**에서 키 : 120 < x < 140이고 몸무게 : 40 < x < 60일 때 **4개**로 분할*

| **분할 번호** | **키 (h)의 분할** | **몸무게 (w)의 분할** | **테스트할 영역** |
| --- | --- | --- | --- |
| **P1** | 유효 (Valid) | 유효 (Valid) | 120 < h< 140 AND 40 < w < 60 |
| **P2** | 유효 (Valid) | 무효 (Invalid) | 120 < h < 140 AND (w ≤ 40 or w ≥ 60) |
| **P3** | 무효 (Invalid) | 유효 (Valid) | (h ≤ 120 or h ≥ 140) AND 40 < w < 60 |
| **P4** | 무효 (Invalid) | 무효 (Invalid) | (h ≤ 120 or h ≥ 140) AND (w ≤ 40 or w ≥ 60) |

---

### 경곗값 분석 (Boundary Value Analysis)

경곗값과 경계 외부에 있는 경계와 가장 가까운 값 선정.

✏️ *경곗값 분석이 동등 분할 분석보다 **테스트 강도가 높음** !*

**✏️ *절대적인 경계** 있으면 그것만 포함 (예시로 1 이상 자연수가 아니면 입력 자체가 불가하다면 1만 포함)*

✏️ 오답노트

*특수부호가 1개 이상 5개 이하로 들어가야 할 때 **3-value 경곗값 분석 방법**으로 비밀번호 테스트* 

*→ 1 ≤ n ≤ 5이니까 유효개수는 **1개 (경계), 2개 (경계주변), 4개 (경계주변), 5개 (경계) / 무효영역은 0개 (무효경계), 6개 (무효경계)*** 

***→ 총 테스트케이스 6개 !***

| **특수부호 개수** | **테스트 입력** | **해당 영역** |
| --- | --- | --- |
| 0개 | 무효 경계 | 무효 (Invalid) |
| 1개 | 경계 | 유효 (Valid) |
| 2개 | 경계 주변 | 유효 (Valid) |
| 4개  | 경계 주변 | 유효 (Valid) |
| 5개 | 경계 | 유효 (Valid) |
| 6개 | 무효 경계 | 무효 (Invalid) |

*만약에 **2-value 경곗값 분석**이면 테스크 케이스 4개 !*

| **특수 부호 개수** | **테스트 입력** | **해당 영역** |
| --- | --- | --- |
| 0개 | **무효 경계** | 무효 (Invalid) |
| 1개 | 경계 | 유효 (Valid) |
| 5개 | 경계 | 유효 (Valid) |
| 6개 | **무효 경계** | 무효 (Invalid) |

---

### 조합 테스트 (Combinatorial test)

| **목적지** | **등급** | **좌석** |
| --- | --- | --- |
| 파리 | 퍼스트 | 창가 |
| 런던 | 비즈니스 | 통로 |
|  | 이코노미 |  |

ex)는 위 예시에 해당 테스트로 조합한 결과

### 1️⃣ Each choice 테스트

분할된 클래스에서 최소한 하나의 입력값이 포함되도록 함.
근데 입력 인자들의 **상호 작용에 따른 결함** 발생 가능성 있음

ex) 3개

### 2️⃣ 페어와이즈 테스트

각 인자의 값이나 다른 인자의 값을 최소한 한 번은 조합을 함 (**모든 입력값의 짝 조합**)

ex) 6개 (2*3, 2*2, 3*2 중 가장 많은 조합의 수 커버)

| **TC** | **목적지 (A)** | **등급 (B)** | **좌석 (C)** | **커버된 쌍 (Pair) 예시** |
| --- | --- | --- | --- | --- |
| **TC1** | 파리 | 퍼스트 | 창가 | (파리, 퍼스트), (퍼스트, 창가) |
| **TC2** | 런던 | 비즈니스 | 통로 | (런던, 비즈니스), (비즈니스, 통로) |
| **TC3** | 파리 | 이코노미 | 통로 | (파리, 이코노미), (이코노미, 통로) |
| **TC4** | 런던 | 퍼스트 | 통로 | (런던, 퍼스트), (퍼스트, 통로) |
| **TC5** | 파리 | 비즈니스 | 창가 | (파리, 비즈니스), (비즈니스, 창가) |
| **TC6** | 런던 | 이코노미 | 창가 | (런던, 이코노미), (이코노미, 창가) |

### 3️⃣ All combinations 테스트

모든 입력 인자의 모든 가능한 클래스 조합이 포함되도록

ex) 12개

### 4️⃣ Base choice 테스트

기반이 되는 테스트 조합을 미리 선정

ex) 5개

|  | **목적지** | **등급**  | **좌석**  |  |
| --- | --- | --- | --- | --- |
| **TC1 (Base)** | **파리** | **퍼스트** | **창가** | 기본 선택 |
| **TC2** | **런던** | 퍼스트 | 창가 | A 변경 |
| **TC3** | 파리 | **비즈니스** | 창가 | B 변경 |
| **TC4** | 파리 | **이코노미** | 창가 | B 변경 |
| **TC5** | 파리 | 퍼스트 | **통로** | C 변경 |

---

### 결정표 테스트 (Decision table test)

각 규칙이 최소한 한번은 테스트 될 수 있도록 테스트 케이스 생성

*✏️**모든** 가능한 조합으로 인한 행위 분석 → **테스트 베이시스의 누락** 발견하는데 효과적 (완전성 보장)*

✏️ *복잡한 **논리적 관계** 표현하기에 좋음*

✏️ ***명세서**를 분석하여 조건과 행위를 식별*

---

### 상태 전이 테스트 (State-transition test)

✏️ *버튼이 눌러졌을 때의 액션은 시스템이 현재 어떤 기능을 수행하고있는지에 따라 달라지는 것 테스트할 때에도 적합*

✏️ **상태 테스트** : *모든 상태를 최소한 한번 방문*

✏️ **단일 전이 테스트 (0-switch)** : *상태 전이도의 모든 **유효한 전이들**을 **최소한 한번 방문***

✏️ **All transitions 테스트** : ***유효하지않은 전이들도** 최소한 한번 **방문***

✏️ **다중 전이 테스트 (N-switch)** : *상태 전이도의 N+1개의 전이 시퀀스들을 최소한 한번 방문*

**유효하지않는 경우에 대해서도 테스트할 필요**가 있다 !